pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
num=0
msg=""

function _update60()
	if btnp(‚ùé) then
	 start_script(run_counts)
	end
	continue_scripts()
end

function _draw()
	cls()
 print(msg,20,20)
 print(num,20,28)
end

scripts = {}
function start_script(s)
	add(scripts,cocreate(s))
end

function continue_scripts()
	local s = {}
 for f in all(scripts) do
		if f and costatus(f) != 'dead' then
			coresume(f)
			add(s, f)
		end
	end
	scripts = s -- remove finished scripts
end

function run_counts()
	count_to_15()
	count_down_to_5()
	count_to_30()
end

function count_to_15()
 msg = "phase 1"
	while num < 150 do
		num += 1
		yield()
	end
end

function count_down_to_5()
	msg = "phase 2"
	while num > 50 do
		num -= 1
		yield()
	end
end

function count_to_30()
	msg = "phase 3"
	while num < 300 do
		num += 1
		yield()
	end
end

__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
